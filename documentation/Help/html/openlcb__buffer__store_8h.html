<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenLcbCLib: openlcb/openlcb_buffer_store.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">OpenLcbCLib<span id="projectnumber">&#160;1.0 Alpha</span>
   </div>
   <div id="projectbrief">OpenSource C Library to create OpenLcb/Lcc Nodes</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b8569835f95a5750220052892eb1f1b9.html">openlcb</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">openlcb_buffer_store.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;<a class="el" href="openlcb__types_8h_source.html">openlcb_types.h</a>&quot;</code><br />
</div>
<p><a href="openlcb__buffer__store_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aaa929fa9f3796aa554fb29771116b864" id="r_aaa929fa9f3796aa554fb29771116b864"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaa929fa9f3796aa554fb29771116b864">OpenLcbBufferStore_initialize</a> (void)</td></tr>
<tr class="separator:aaa929fa9f3796aa554fb29771116b864"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56857b0d3eaed4ee651e9ac794cad201" id="r_a56857b0d3eaed4ee651e9ac794cad201"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structopenlcb__msg__t.html">openlcb_msg_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a56857b0d3eaed4ee651e9ac794cad201">OpenLcbBufferStore_allocate_buffer</a> (<a class="el" href="openlcb__types_8h.html#aececf1be5c268eb2c680b4a0cc778467">payload_type_enum</a> payload_type)</td></tr>
<tr class="separator:a56857b0d3eaed4ee651e9ac794cad201"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a678e335cc01529581d2b7e69ae0ad023" id="r_a678e335cc01529581d2b7e69ae0ad023"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a678e335cc01529581d2b7e69ae0ad023">OpenLcbBufferStore_free_buffer</a> (<a class="el" href="structopenlcb__msg__t.html">openlcb_msg_t</a> *msg)</td></tr>
<tr class="separator:a678e335cc01529581d2b7e69ae0ad023"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8a5aa017d1dc54ceda7f0fa7c47d709" id="r_ad8a5aa017d1dc54ceda7f0fa7c47d709"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad8a5aa017d1dc54ceda7f0fa7c47d709">OpenLcbBufferStore_basic_messages_allocated</a> (void)</td></tr>
<tr class="separator:ad8a5aa017d1dc54ceda7f0fa7c47d709"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f3a667dbdbbf14793cadeb40b545331" id="r_a4f3a667dbdbbf14793cadeb40b545331"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4f3a667dbdbbf14793cadeb40b545331">OpenLcbBufferStore_basic_messages_max_allocated</a> (void)</td></tr>
<tr class="separator:a4f3a667dbdbbf14793cadeb40b545331"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a775b6eb9b94b465a263a76b969cad4d3" id="r_a775b6eb9b94b465a263a76b969cad4d3"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a775b6eb9b94b465a263a76b969cad4d3">OpenLcbBufferStore_datagram_messages_allocated</a> (void)</td></tr>
<tr class="separator:a775b6eb9b94b465a263a76b969cad4d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa047102a7e56925413814ead6e493723" id="r_aa047102a7e56925413814ead6e493723"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa047102a7e56925413814ead6e493723">OpenLcbBufferStore_datagram_messages_max_allocated</a> (void)</td></tr>
<tr class="separator:aa047102a7e56925413814ead6e493723"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e17b0f879f93af66cd832a2f6c4c801" id="r_a5e17b0f879f93af66cd832a2f6c4c801"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5e17b0f879f93af66cd832a2f6c4c801">OpenLcbBufferStore_snip_messages_allocated</a> (void)</td></tr>
<tr class="separator:a5e17b0f879f93af66cd832a2f6c4c801"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1300bfb3d8db0268f6aa3024c87d464c" id="r_a1300bfb3d8db0268f6aa3024c87d464c"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1300bfb3d8db0268f6aa3024c87d464c">OpenLcbBufferStore_snip_messages_max_allocated</a> (void)</td></tr>
<tr class="separator:a1300bfb3d8db0268f6aa3024c87d464c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8263b6b25707d7cbd8040128d14800c0" id="r_a8263b6b25707d7cbd8040128d14800c0"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8263b6b25707d7cbd8040128d14800c0">OpenLcbBufferStore_stream_messages_allocated</a> (void)</td></tr>
<tr class="separator:a8263b6b25707d7cbd8040128d14800c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ca556cbdeaa4f86800156e103c872fa" id="r_a3ca556cbdeaa4f86800156e103c872fa"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3ca556cbdeaa4f86800156e103c872fa">OpenLcbBufferStore_stream_messages_max_allocated</a> (void)</td></tr>
<tr class="separator:a3ca556cbdeaa4f86800156e103c872fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec01e595ccfb614dfcb901aa443a5598" id="r_aec01e595ccfb614dfcb901aa443a5598"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aec01e595ccfb614dfcb901aa443a5598">OpenLcbBufferStore_inc_reference_count</a> (<a class="el" href="structopenlcb__msg__t.html">openlcb_msg_t</a> *openlcb_msg)</td></tr>
<tr class="separator:aec01e595ccfb614dfcb901aa443a5598"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad94eea5a323ffed37a490fdf71ea9d55" id="r_ad94eea5a323ffed37a490fdf71ea9d55"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad94eea5a323ffed37a490fdf71ea9d55">OpenLcbBufferStore_clear_max_allocated</a> (void)</td></tr>
<tr class="separator:ad94eea5a323ffed37a490fdf71ea9d55"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h2><a class="anchor" id="Description"></a>
Description</h2>
<p>Implements the core buffers for normal, snip, datagram, and stream length buffers. The FIFO and List buffers are arrays of pointers to these core buffers that are allocated and freed. <br  />
</p>
<dl class="section note"><dt>Note</dt><dd>The CAN Receive Statemachine and 100ms timer access these buffers and typically run within interrupts and/or threads. Care must be taken to Pause and Resume the interrupts or threads if the main loop needs to access the buffers for any reason.</dd></dl>
<h2><a class="anchor" id="License"></a>
License</h2>
<p>All rights reserved.</p>
<p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p>
<ul>
<li>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</li>
<li>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</li>
</ul>
<p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2025, Jim Kueneman </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jim Kueneman </dd></dl>
<dl class="section date"><dt>Date</dt><dd>14 Dec 2025 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a56857b0d3eaed4ee651e9ac794cad201" name="a56857b0d3eaed4ee651e9ac794cad201"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56857b0d3eaed4ee651e9ac794cad201">&#9670;&#160;</a></span>OpenLcbBufferStore_allocate_buffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structopenlcb__msg__t.html">openlcb_msg_t</a> * OpenLcbBufferStore_allocate_buffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="openlcb__types_8h.html#aececf1be5c268eb2c680b4a0cc778467">payload_type_enum</a></td>          <td class="paramname"><span class="paramname"><em>payload_type</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocates a new buffer of the type passed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">payload_type_enum</td><td>payload_type [in] - Type of buffer that is requested to be allocated (Basic, SNIP, Datagram, Stream)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>*openlcb_msg_t - Pointer to the message buffer or NULL if it fails </dd></dl>

</div>
</div>
<a id="ad8a5aa017d1dc54ceda7f0fa7c47d709" name="ad8a5aa017d1dc54ceda7f0fa7c47d709"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8a5aa017d1dc54ceda7f0fa7c47d709">&#9670;&#160;</a></span>OpenLcbBufferStore_basic_messages_allocated()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t OpenLcbBufferStore_basic_messages_allocated </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The number of Basic messages currently allocated in the buffer store. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint16_t - Number of Basic sized messages currently allocated </dd></dl>

</div>
</div>
<a id="a4f3a667dbdbbf14793cadeb40b545331" name="a4f3a667dbdbbf14793cadeb40b545331"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f3a667dbdbbf14793cadeb40b545331">&#9670;&#160;</a></span>OpenLcbBufferStore_basic_messages_max_allocated()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t OpenLcbBufferStore_basic_messages_max_allocated </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The maximum number of Basic messages that have been allocated in the buffer store. Useful for understanding how deep the buffer store needs to be during stress testing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint16_t - Maximum number of Basic sized messages that have been allocated currently </dd></dl>

</div>
</div>
<a id="ad94eea5a323ffed37a490fdf71ea9d55" name="ad94eea5a323ffed37a490fdf71ea9d55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad94eea5a323ffed37a490fdf71ea9d55">&#9670;&#160;</a></span>OpenLcbBufferStore_clear_max_allocated()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OpenLcbBufferStore_clear_max_allocated </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets the running count of the Maximum number of buffer of each type allocated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a id="a775b6eb9b94b465a263a76b969cad4d3" name="a775b6eb9b94b465a263a76b969cad4d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a775b6eb9b94b465a263a76b969cad4d3">&#9670;&#160;</a></span>OpenLcbBufferStore_datagram_messages_allocated()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t OpenLcbBufferStore_datagram_messages_allocated </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The number of Datagram messages currently allocated in the buffer store. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint16_t - Number of Datagram sized messages currently allocated </dd></dl>

</div>
</div>
<a id="aa047102a7e56925413814ead6e493723" name="aa047102a7e56925413814ead6e493723"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa047102a7e56925413814ead6e493723">&#9670;&#160;</a></span>OpenLcbBufferStore_datagram_messages_max_allocated()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t OpenLcbBufferStore_datagram_messages_max_allocated </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The maximum number of Datagram messages that have been allocated in the buffer store. Useful for understanding how deep the buffer store needs to be during stress testing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint16_t - Maximum number of Datagram sized messages that have been allocated currently </dd></dl>

</div>
</div>
<a id="a678e335cc01529581d2b7e69ae0ad023" name="a678e335cc01529581d2b7e69ae0ad023"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a678e335cc01529581d2b7e69ae0ad023">&#9670;&#160;</a></span>OpenLcbBufferStore_free_buffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void OpenLcbBufferStore_free_buffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structopenlcb__msg__t.html">openlcb_msg_t</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Frees the buffer so it can be reused.<br  />
 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="structopenlcb__msg__t.html">openlcb_msg_t</a></td><td>*msg [in] - Pointer to a message to be freed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none</dd></dl>
<ul>
<li><dl class="section note"><dt>Note</dt><dd>The buffers are reference counted (see <a class="el" href="#aec01e595ccfb614dfcb901aa443a5598">OpenLcbBufferStore_inc_reference_count</a>) so this call may or may not actually release that buffer slot for reuse. If the count drops to zero then it will be released for reuse </dd></dl>
</li>
</ul>

</div>
</div>
<a id="aec01e595ccfb614dfcb901aa443a5598" name="aec01e595ccfb614dfcb901aa443a5598"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec01e595ccfb614dfcb901aa443a5598">&#9670;&#160;</a></span>OpenLcbBufferStore_inc_reference_count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void OpenLcbBufferStore_inc_reference_count </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structopenlcb__msg__t.html">openlcb_msg_t</a> *</td>          <td class="paramname"><span class="paramname"><em>openlcb_msg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Increases the reference count on the allocated buffer. <br  />
 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="structopenlcb__msg__t.html">openlcb_msg_t</a></td><td>*msg [in] - Pointer to a message to be freed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none</dd></dl>
<dl class="section note"><dt>Note</dt><dd>When <a class="el" href="#a678e335cc01529581d2b7e69ae0ad023">OpenLcbBufferStore_free_buffer(openlcb_msg_t *msg)</a> is called it is only freed when the reference count reaches zero </dd></dl>

</div>
</div>
<a id="aaa929fa9f3796aa554fb29771116b864" name="aaa929fa9f3796aa554fb29771116b864"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa929fa9f3796aa554fb29771116b864">&#9670;&#160;</a></span>OpenLcbBufferStore_initialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void OpenLcbBufferStore_initialize </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes the OpenLcb Buffer Store<br  />
 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This must always be called during application initialization </dd></dl>

</div>
</div>
<a id="a5e17b0f879f93af66cd832a2f6c4c801" name="a5e17b0f879f93af66cd832a2f6c4c801"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e17b0f879f93af66cd832a2f6c4c801">&#9670;&#160;</a></span>OpenLcbBufferStore_snip_messages_allocated()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t OpenLcbBufferStore_snip_messages_allocated </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The number of SNIP message currently allocated in the buffer store. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint16_t - Number of Basic sized messages currently allocated </dd></dl>

</div>
</div>
<a id="a1300bfb3d8db0268f6aa3024c87d464c" name="a1300bfb3d8db0268f6aa3024c87d464c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1300bfb3d8db0268f6aa3024c87d464c">&#9670;&#160;</a></span>OpenLcbBufferStore_snip_messages_max_allocated()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t OpenLcbBufferStore_snip_messages_max_allocated </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The maximum number of SNIP messages that have been allocated in the buffer store. Useful for understanding how deep the buffer store needs to be during stress testing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint16_t - Maximum number of SNIP sized messages that have been allocated currently </dd></dl>

</div>
</div>
<a id="a8263b6b25707d7cbd8040128d14800c0" name="a8263b6b25707d7cbd8040128d14800c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8263b6b25707d7cbd8040128d14800c0">&#9670;&#160;</a></span>OpenLcbBufferStore_stream_messages_allocated()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t OpenLcbBufferStore_stream_messages_allocated </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The number of Stream message buffers currently allocated in the buffer store. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint16_t - Number of Stream sized messages currently allocated </dd></dl>

</div>
</div>
<a id="a3ca556cbdeaa4f86800156e103c872fa" name="a3ca556cbdeaa4f86800156e103c872fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ca556cbdeaa4f86800156e103c872fa">&#9670;&#160;</a></span>OpenLcbBufferStore_stream_messages_max_allocated()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t OpenLcbBufferStore_stream_messages_max_allocated </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The maximum number of Stream messages that have been allocated in the buffer store. Useful for understanding how deep the buffer store needs to be during stress testing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint16_t - Maximum number of Stream sized messages that have been allocated currently </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
