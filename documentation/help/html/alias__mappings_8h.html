<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenLcbCLib: src/drivers/canbus/alias_mappings.h File Reference</title>
<link rel="icon" href="Diesel.png" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">OpenLcbCLib<span id="projectnumber">&#160;1.0 Alpha</span>
   </div>
   <div id="projectbrief">OpenSource C Library to create OpenLcb/Lcc Nodes</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_c718a368270b13c54d94892d20736f45.html">drivers</a></li><li class="navelem"><a class="el" href="dir_858afec057d05dde4e87dd686afd4670.html">canbus</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">alias_mappings.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Implements a buffer that stores Alias/NodeID pairs.  
<a href="#details">More...</a></p>

<p><a href="alias__mappings_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a999c2dabeacd5ed0c21c9dbbdd263297" id="r_a999c2dabeacd5ed0c21c9dbbdd263297"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a999c2dabeacd5ed0c21c9dbbdd263297">AliasMappings_initialize</a> (void)</td></tr>
<tr class="memdesc:a999c2dabeacd5ed0c21c9dbbdd263297"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the Alias Mapping buffers.  <br /></td></tr>
<tr class="separator:a999c2dabeacd5ed0c21c9dbbdd263297"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ea6e19b9de3e4be35e2340ee9dc4af2" id="r_a2ea6e19b9de3e4be35e2340ee9dc4af2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="can__types_8h.html#a6f5fe2a96f016592936919dc52552b60">alias_mapping_info_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2ea6e19b9de3e4be35e2340ee9dc4af2">AliasMappings_get_alias_mapping_info</a> (void)</td></tr>
<tr class="memdesc:a2ea6e19b9de3e4be35e2340ee9dc4af2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allows access to the Alias Mapping Buffer itself.  <br /></td></tr>
<tr class="separator:a2ea6e19b9de3e4be35e2340ee9dc4af2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e2639729c40c4ba017fa2529493c2d7" id="r_a1e2639729c40c4ba017fa2529493c2d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1e2639729c40c4ba017fa2529493c2d7">AliasMappings_set_has_duplicate_alias_flag</a> (void)</td></tr>
<tr class="memdesc:a1e2639729c40c4ba017fa2529493c2d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a flag that tells the main loop that a received message has been found to be using an Alias we have reserved.  <br /></td></tr>
<tr class="separator:a1e2639729c40c4ba017fa2529493c2d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe1490dc1fc7c2f410abc31cad6f6447" id="r_afe1490dc1fc7c2f410abc31cad6f6447"><td class="memItemLeft" align="right" valign="top"><a class="el" href="can__types_8h.html#a6742a625d665303b409391926b8a65b1">alias_mapping_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe1490dc1fc7c2f410abc31cad6f6447">AliasMappings_register</a> (uint16_t alias, <a class="el" href="openlcb__types_8h.html#ab63b0eaf893badf557397c77fb74fe3c">node_id_t</a> node_id)</td></tr>
<tr class="memdesc:afe1490dc1fc7c2f410abc31cad6f6447"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a new Alias/NodeID pair. If the NodeID exists then the old Alias is replaced by the passed one.  <br /></td></tr>
<tr class="separator:afe1490dc1fc7c2f410abc31cad6f6447"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f08c60c95f97546d47c8386270cc8b4" id="r_a9f08c60c95f97546d47c8386270cc8b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9f08c60c95f97546d47c8386270cc8b4">AliasMappings_unregister</a> (uint16_t alias)</td></tr>
<tr class="memdesc:a9f08c60c95f97546d47c8386270cc8b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deregisters an existing Alias/NodeID pair. If the pair does not exist it does nothing.  <br /></td></tr>
<tr class="separator:a9f08c60c95f97546d47c8386270cc8b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30c9579dd57feb9bb1ebe5f07f60bb42" id="r_a30c9579dd57feb9bb1ebe5f07f60bb42"><td class="memItemLeft" align="right" valign="top"><a class="el" href="can__types_8h.html#a6742a625d665303b409391926b8a65b1">alias_mapping_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a30c9579dd57feb9bb1ebe5f07f60bb42">AliasMappings_find_mapping_by_alias</a> (uint16_t alias)</td></tr>
<tr class="memdesc:a30c9579dd57feb9bb1ebe5f07f60bb42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds a Alias/NodeID pair that matches the Alias passed.  <br /></td></tr>
<tr class="separator:a30c9579dd57feb9bb1ebe5f07f60bb42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a084208e2d690494fb75159a2251b41e8" id="r_a084208e2d690494fb75159a2251b41e8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="can__types_8h.html#a6742a625d665303b409391926b8a65b1">alias_mapping_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a084208e2d690494fb75159a2251b41e8">AliasMappings_find_mapping_by_node_id</a> (<a class="el" href="openlcb__types_8h.html#ab63b0eaf893badf557397c77fb74fe3c">node_id_t</a> node_id)</td></tr>
<tr class="memdesc:a084208e2d690494fb75159a2251b41e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds a Alias/NodeID pair that matches the NodeID passed.  <br /></td></tr>
<tr class="separator:a084208e2d690494fb75159a2251b41e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a689def4649f0c550f4105dac8846bd93" id="r_a689def4649f0c550f4105dac8846bd93"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a689def4649f0c550f4105dac8846bd93">AliasMappings_flush</a> (void)</td></tr>
<tr class="memdesc:a689def4649f0c550f4105dac8846bd93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Released all stored Alias Mapping pairs.  <br /></td></tr>
<tr class="separator:a689def4649f0c550f4105dac8846bd93"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implements a buffer that stores Alias/NodeID pairs. </p>
<p>This does not track external nodes it only tracks internal nodes. It's main purpose is to allow the CAN Rx Handler to search through allocated Alias and NodeIDs when processing incoming messages and not need to access the raw Node data structures in <a class="el" href="openlcb__node_8h.html">openlcb_node.h</a>. This is because the Rx Handler is typically running in an interrupt or thread so this keeps a secondary list that have clear insert/remove points that can be protected through resource locking (pausing interrupts, threads, etc).</p>
<dl class="section note"><dt>Note</dt><dd>Applications typically only need to access the Initialize function in this module.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>The CAN Receive Statemachine and 100ms timer access these buffers and typically run within interrupts and/or threads. Care must be taken to Pause and Resume the interrupts or threads if the main loop needs to access the buffers for any reason. </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a999c2dabeacd5ed0c21c9dbbdd263297" name="a999c2dabeacd5ed0c21c9dbbdd263297"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a999c2dabeacd5ed0c21c9dbbdd263297">&#9670;&#160;</a></span>AliasMappings_initialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AliasMappings_initialize </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes the Alias Mapping buffers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>This must always be called during application initialization. </dd></dl>

</div>
</div>
<a id="a2ea6e19b9de3e4be35e2340ee9dc4af2" name="a2ea6e19b9de3e4be35e2340ee9dc4af2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ea6e19b9de3e4be35e2340ee9dc4af2">&#9670;&#160;</a></span>AliasMappings_get_alias_mapping_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="can__types_8h.html#a6f5fe2a96f016592936919dc52552b60">alias_mapping_info_t</a> * AliasMappings_get_alias_mapping_info </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allows access to the Alias Mapping Buffer itself. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the alias message buffer or NULL if it fails. </dd></dl>

</div>
</div>
<a id="a1e2639729c40c4ba017fa2529493c2d7" name="a1e2639729c40c4ba017fa2529493c2d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e2639729c40c4ba017fa2529493c2d7">&#9670;&#160;</a></span>AliasMappings_set_has_duplicate_alias_flag()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AliasMappings_set_has_duplicate_alias_flag </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets a flag that tells the main loop that a received message has been found to be using an Alias we have reserved. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a id="afe1490dc1fc7c2f410abc31cad6f6447" name="afe1490dc1fc7c2f410abc31cad6f6447"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe1490dc1fc7c2f410abc31cad6f6447">&#9670;&#160;</a></span>AliasMappings_register()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="can__types_8h.html#a6742a625d665303b409391926b8a65b1">alias_mapping_t</a> * AliasMappings_register </td>
          <td>(</td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>alias</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="openlcb__types_8h.html#ab63b0eaf893badf557397c77fb74fe3c">node_id_t</a></td>          <td class="paramname"><span class="paramname"><em>node_id</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Registers a new Alias/NodeID pair. If the NodeID exists then the old Alias is replaced by the passed one. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uint16_t</td><td>alias - The Alias to store. </td></tr>
    <tr><td class="paramname">node_id_t</td><td>node_id - The NodeID to store.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the newly registered AliasMapping or NULL if fails. </dd></dl>

</div>
</div>
<a id="a9f08c60c95f97546d47c8386270cc8b4" name="a9f08c60c95f97546d47c8386270cc8b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f08c60c95f97546d47c8386270cc8b4">&#9670;&#160;</a></span>AliasMappings_unregister()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AliasMappings_unregister </td>
          <td>(</td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>alias</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deregisters an existing Alias/NodeID pair. If the pair does not exist it does nothing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uint16_t</td><td>alias - The Alias to unregister.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a id="a30c9579dd57feb9bb1ebe5f07f60bb42" name="a30c9579dd57feb9bb1ebe5f07f60bb42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30c9579dd57feb9bb1ebe5f07f60bb42">&#9670;&#160;</a></span>AliasMappings_find_mapping_by_alias()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="can__types_8h.html#a6742a625d665303b409391926b8a65b1">alias_mapping_t</a> * AliasMappings_find_mapping_by_alias </td>
          <td>(</td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>alias</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finds a Alias/NodeID pair that matches the Alias passed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uint16_t</td><td>alias - The Alias to search for.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the Alias Mapping pair if found, else NULL. </dd></dl>

</div>
</div>
<a id="a084208e2d690494fb75159a2251b41e8" name="a084208e2d690494fb75159a2251b41e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a084208e2d690494fb75159a2251b41e8">&#9670;&#160;</a></span>AliasMappings_find_mapping_by_node_id()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="can__types_8h.html#a6742a625d665303b409391926b8a65b1">alias_mapping_t</a> * AliasMappings_find_mapping_by_node_id </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="openlcb__types_8h.html#ab63b0eaf893badf557397c77fb74fe3c">node_id_t</a></td>          <td class="paramname"><span class="paramname"><em>node_id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finds a Alias/NodeID pair that matches the NodeID passed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uint16_t</td><td>alias - The NodeID to search for.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the Alias Mapping pair if found, else NULL. </dd></dl>

</div>
</div>
<a id="a689def4649f0c550f4105dac8846bd93" name="a689def4649f0c550f4105dac8846bd93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a689def4649f0c550f4105dac8846bd93">&#9670;&#160;</a></span>AliasMappings_flush()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AliasMappings_flush </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Released all stored Alias Mapping pairs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
</div><!-- contents -->
<!doctype html>
<html>
    <body>
        <hr>
        <p style="margin-left: 10px; margin-right: 10px;">
            <b>Copyright (c)</b> 2026 Jim Kueneman all rights reserved. See the <a href="../licence.html">License</a>
        </p>
    </body>
</html>
