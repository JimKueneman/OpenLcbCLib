<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenLcbCLib: interface_can_tx_statemachine_t Struct Reference</title>
<link rel="icon" href="Diesel.png" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">OpenLcbCLib<span id="projectnumber">&#160;1.0 Alpha</span>
   </div>
   <div id="projectbrief">OpenSource C Library to create OpenLcb/Lcc Nodes</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle"><div class="title">interface_can_tx_statemachine_t Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Dependency injection interface for CAN transmit state machine.  
 <a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a2e9d4e2d961ae1797f5a9877b4771b15" id="r_a2e9d4e2d961ae1797f5a9877b4771b15"><td class="memItemLeft" align="right" valign="top">bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2e9d4e2d961ae1797f5a9877b4771b15">is_tx_buffer_empty</a> )(void)</td></tr>
<tr class="memdesc:a2e9d4e2d961ae1797f5a9877b4771b15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to Application-defined function that checks if CAN transmit buffer is available.  <br /></td></tr>
<tr class="separator:a2e9d4e2d961ae1797f5a9877b4771b15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81d51fab47fc2b3b3e70f6e2b65a5148" id="r_a81d51fab47fc2b3b3e70f6e2b65a5148"><td class="memItemLeft" align="right" valign="top">bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a81d51fab47fc2b3b3e70f6e2b65a5148">handle_addressed_msg_frame</a> )(<a class="el" href="structopenlcb__msg__t.html">openlcb_msg_t</a> *openlcb_msg, <a class="el" href="can__types_8h.html#a9fec363f8b39411fc3ce3bafd7182309">can_msg_t</a> *can_msg_worker, uint16_t *openlcb_start_index)</td></tr>
<tr class="memdesc:a81d51fab47fc2b3b3e70f6e2b65a5148"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to handler function for addressed OpenLCB messages.  <br /></td></tr>
<tr class="separator:a81d51fab47fc2b3b3e70f6e2b65a5148"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93d8ee50aaa8499159254a17f204831a" id="r_a93d8ee50aaa8499159254a17f204831a"><td class="memItemLeft" align="right" valign="top">bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a93d8ee50aaa8499159254a17f204831a">handle_unaddressed_msg_frame</a> )(<a class="el" href="structopenlcb__msg__t.html">openlcb_msg_t</a> *openlcb_msg, <a class="el" href="can__types_8h.html#a9fec363f8b39411fc3ce3bafd7182309">can_msg_t</a> *can_msg_worker, uint16_t *openlcb_start_index)</td></tr>
<tr class="memdesc:a93d8ee50aaa8499159254a17f204831a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to handler function for unaddressed OpenLCB messages.  <br /></td></tr>
<tr class="separator:a93d8ee50aaa8499159254a17f204831a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83d342c6149ca670451917a4e2c6f5ac" id="r_a83d342c6149ca670451917a4e2c6f5ac"><td class="memItemLeft" align="right" valign="top">bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a83d342c6149ca670451917a4e2c6f5ac">handle_datagram_frame</a> )(<a class="el" href="structopenlcb__msg__t.html">openlcb_msg_t</a> *openlcb_msg, <a class="el" href="can__types_8h.html#a9fec363f8b39411fc3ce3bafd7182309">can_msg_t</a> *can_msg_worker, uint16_t *openlcb_start_index)</td></tr>
<tr class="memdesc:a83d342c6149ca670451917a4e2c6f5ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to handler function for datagram OpenLCB messages.  <br /></td></tr>
<tr class="separator:a83d342c6149ca670451917a4e2c6f5ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a4e9f86e31d011f4701ecb016e07167" id="r_a3a4e9f86e31d011f4701ecb016e07167"><td class="memItemLeft" align="right" valign="top">bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3a4e9f86e31d011f4701ecb016e07167">handle_stream_frame</a> )(<a class="el" href="structopenlcb__msg__t.html">openlcb_msg_t</a> *openlcb_msg, <a class="el" href="can__types_8h.html#a9fec363f8b39411fc3ce3bafd7182309">can_msg_t</a> *can_msg_worker, uint16_t *openlcb_start_index)</td></tr>
<tr class="memdesc:a3a4e9f86e31d011f4701ecb016e07167"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to handler function for stream OpenLCB messages.  <br /></td></tr>
<tr class="separator:a3a4e9f86e31d011f4701ecb016e07167"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe35e3ecf6dcbcdbeaa1e991e2fd9da3" id="r_afe35e3ecf6dcbcdbeaa1e991e2fd9da3"><td class="memItemLeft" align="right" valign="top">bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe35e3ecf6dcbcdbeaa1e991e2fd9da3">handle_can_frame</a> )(<a class="el" href="can__types_8h.html#a9fec363f8b39411fc3ce3bafd7182309">can_msg_t</a> *can_msg)</td></tr>
<tr class="memdesc:afe35e3ecf6dcbcdbeaa1e991e2fd9da3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to handler function for raw CAN frames.  <br /></td></tr>
<tr class="separator:afe35e3ecf6dcbcdbeaa1e991e2fd9da3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Dependency injection interface for CAN transmit state machine. </p>
<p>OpenLcbCLib uses dependency injection to allow for writing full coverage tests as the functions that are used can be modeled in the test and return valid OR invalid results to fully test all program flows in the module. It also allows for reducing the program size. If a particular protocol does not need to be implemented simply filling in the dependency for that handler with a NULL will strip out code for that protocols handlers and minimize the application size (bootloader is an example). The library will automatically reply with the correct error/reply codes if the handler is defined as NULL. </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="a2e9d4e2d961ae1797f5a9877b4771b15" name="a2e9d4e2d961ae1797f5a9877b4771b15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e9d4e2d961ae1797f5a9877b4771b15">&#9670;&#160;</a></span>is_tx_buffer_empty</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool(* is_tx_buffer_empty) (void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to Application-defined function that checks if CAN transmit buffer is available. </p>
<p>Called before attempting to transmit each CAN frame to ensure the hardware transmit buffer can accept another frame. Prevents buffer overflow and lost frames.</p>
<dl class="section warning"><dt>Warning</dt><dd><b>Required</b> assignment - application MUST provide this function </dd></dl>

</div>
</div>
<a id="a81d51fab47fc2b3b3e70f6e2b65a5148" name="a81d51fab47fc2b3b3e70f6e2b65a5148"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81d51fab47fc2b3b3e70f6e2b65a5148">&#9670;&#160;</a></span>handle_addressed_msg_frame</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool(* handle_addressed_msg_frame) (<a class="el" href="structopenlcb__msg__t.html">openlcb_msg_t</a> *openlcb_msg, <a class="el" href="can__types_8h.html#a9fec363f8b39411fc3ce3bafd7182309">can_msg_t</a> *can_msg_worker, uint16_t *openlcb_start_index)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to handler function for addressed OpenLCB messages. </p>
<p>Converts addressed OpenLCB messages to CAN frame format with destination alias in payload. Handles multi-frame fragmentation as needed.</p>
<dl class="section warning"><dt>Warning</dt><dd><b>Required</b> assignment - defaults to <a class="el" href="can__tx__message__handler_8c.html#a79d6a3b6fd0db4921dc8630934e68bba" title="Converts and transmits addressed message as CAN frame(s)">CanTxMessageHandler_addressed_msg_frame()</a> </dd></dl>

</div>
</div>
<a id="a93d8ee50aaa8499159254a17f204831a" name="a93d8ee50aaa8499159254a17f204831a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93d8ee50aaa8499159254a17f204831a">&#9670;&#160;</a></span>handle_unaddressed_msg_frame</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool(* handle_unaddressed_msg_frame) (<a class="el" href="structopenlcb__msg__t.html">openlcb_msg_t</a> *openlcb_msg, <a class="el" href="can__types_8h.html#a9fec363f8b39411fc3ce3bafd7182309">can_msg_t</a> *can_msg_worker, uint16_t *openlcb_start_index)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to handler function for unaddressed OpenLCB messages. </p>
<p>Converts broadcast OpenLCB messages to CAN frame format. No destination alias required in payload.</p>
<dl class="section warning"><dt>Warning</dt><dd><b>Required</b> assignment - defaults to <a class="el" href="can__tx__message__handler_8c.html#a0281e625469a52aec7f1e85a464c6222" title="Converts and transmits unaddressed message as CAN frame(s)">CanTxMessageHandler_unaddressed_msg_frame()</a> </dd></dl>

</div>
</div>
<a id="a83d342c6149ca670451917a4e2c6f5ac" name="a83d342c6149ca670451917a4e2c6f5ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83d342c6149ca670451917a4e2c6f5ac">&#9670;&#160;</a></span>handle_datagram_frame</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool(* handle_datagram_frame) (<a class="el" href="structopenlcb__msg__t.html">openlcb_msg_t</a> *openlcb_msg, <a class="el" href="can__types_8h.html#a9fec363f8b39411fc3ce3bafd7182309">can_msg_t</a> *can_msg_worker, uint16_t *openlcb_start_index)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to handler function for datagram OpenLCB messages. </p>
<p>Converts datagram messages to CAN datagram frame format. Handles fragmentation of datagrams up to 72 bytes across multiple frames.</p>
<dl class="section warning"><dt>Warning</dt><dd><b>Required</b> assignment - defaults to <a class="el" href="can__tx__message__handler_8c.html#aa9223150ff58342659336a51f75caf5a" title="Converts and transmits datagram message as CAN frame(s)">CanTxMessageHandler_datagram_frame()</a> </dd></dl>

</div>
</div>
<a id="a3a4e9f86e31d011f4701ecb016e07167" name="a3a4e9f86e31d011f4701ecb016e07167"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a4e9f86e31d011f4701ecb016e07167">&#9670;&#160;</a></span>handle_stream_frame</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool(* handle_stream_frame) (<a class="el" href="structopenlcb__msg__t.html">openlcb_msg_t</a> *openlcb_msg, <a class="el" href="can__types_8h.html#a9fec363f8b39411fc3ce3bafd7182309">can_msg_t</a> *can_msg_worker, uint16_t *openlcb_start_index)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to handler function for stream OpenLCB messages. </p>
<p>Converts stream messages to CAN stream frame format for high-throughput data transfer applications.</p>
<dl class="section warning"><dt>Warning</dt><dd><b>Required</b> assignment - defaults to <a class="el" href="can__tx__message__handler_8c.html#a156df311b2fa14eea4912334cda0ca78" title="Converts and transmits stream message as CAN frame(s)">CanTxMessageHandler_stream_frame()</a> </dd></dl>

</div>
</div>
<a id="afe35e3ecf6dcbcdbeaa1e991e2fd9da3" name="afe35e3ecf6dcbcdbeaa1e991e2fd9da3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe35e3ecf6dcbcdbeaa1e991e2fd9da3">&#9670;&#160;</a></span>handle_can_frame</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool(* handle_can_frame) (<a class="el" href="can__types_8h.html#a9fec363f8b39411fc3ce3bafd7182309">can_msg_t</a> *can_msg)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to handler function for raw CAN frames. </p>
<p>Transmits pre-constructed CAN frames without OpenLCB message processing. Used for CAN control frames and low-level bus operations.</p>
<dl class="section warning"><dt>Warning</dt><dd><b>Required</b> assignment - defaults to <a class="el" href="can__tx__message__handler_8c.html#aa99ced3d0e3dc246de366c88031b6596" title="Transmits a pre-built CAN frame to the physical bus.">CanTxMessageHandler_can_frame()</a> </dd></dl>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>src/drivers/canbus/<a class="el" href="can__tx__statemachine_8h_source.html">can_tx_statemachine.h</a></li>
</ul>
</div><!-- contents -->
<!doctype html>
<html>
    <body>
        <hr>
        <p style="margin-left: 10px; margin-right: 10px;">
            <b>Copyright (c)</b> 2026 Jim Kueneman all rights reserved. See the <a href="../licence.html">License</a>
        </p>
    </body>
</html>
