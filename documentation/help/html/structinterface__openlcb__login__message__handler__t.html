<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenLcbCLib: interface_openlcb_login_message_handler_t Struct Reference</title>
<link rel="icon" href="Diesel.png" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">OpenLcbCLib<span id="projectnumber">&#160;1.0 Alpha</span>
   </div>
   <div id="projectbrief">OpenSource C Library to create OpenLcb/Lcc Nodes</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle"><div class="title">interface_openlcb_login_message_handler_t Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Interface structure for login message handler callback functions.  
 <a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a07b2621b1cfa411657f6f8b68b56b187" id="r_a07b2621b1cfa411657f6f8b68b56b187"><td class="memItemLeft" align="right" valign="top">uint16_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a07b2621b1cfa411657f6f8b68b56b187">extract_producer_event_state_mti</a> )(<a class="el" href="structopenlcb__node__t.html">openlcb_node_t</a> *openlcb_node, uint16_t event_index)</td></tr>
<tr class="memdesc:a07b2621b1cfa411657f6f8b68b56b187"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback to extract Producer Event Identified MTI for a given event.  <br /></td></tr>
<tr class="separator:a07b2621b1cfa411657f6f8b68b56b187"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10bb57ecbcd59ce495360fdfaed4e382" id="r_a10bb57ecbcd59ce495360fdfaed4e382"><td class="memItemLeft" align="right" valign="top">uint16_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a10bb57ecbcd59ce495360fdfaed4e382">extract_consumer_event_state_mti</a> )(<a class="el" href="structopenlcb__node__t.html">openlcb_node_t</a> *openlcb_node, uint16_t event_index)</td></tr>
<tr class="memdesc:a10bb57ecbcd59ce495360fdfaed4e382"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback to extract Consumer Event Identified MTI for a given event.  <br /></td></tr>
<tr class="separator:a10bb57ecbcd59ce495360fdfaed4e382"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Interface structure for login message handler callback functions. </p>
<p>This structure defines the callback interface for the OpenLCB login message handler, which constructs Initialization Complete and event identification messages during the node login sequence as defined in the OpenLCB Message Network and Event Transport Protocol specifications.</p>
<p>The interface provides callbacks that allow the login handler to query application-specific event states and generate appropriate Producer Identified and Consumer Identified messages with the correct state indicators (Valid, Invalid, or Unknown).</p>
<p>The login sequence consists of three phases:</p><ol type="1">
<li>Send Initialization Complete message (announces node presence)</li>
<li>Send Producer Identified messages for all produced events</li>
<li>Send Consumer Identified messages for all consumed events</li>
</ol>
<p>Both callbacks are required to support event state reporting during the login process. The callbacks must examine the current state of each event (set, clear, or unknown) and return the appropriate MTI value for the corresponding Producer or Consumer Identified message.</p>
<dl class="section note"><dt>Note</dt><dd>Required callbacks must be set before calling OpenLcbLoginMessageHandler_initialize </dd>
<dd>
Both callbacks are REQUIRED - neither can be NULL</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="openlcb__login__statemachine__handler_8c.html#a0240f7d8fb35fff420fcf60de82cb4ba" title="Initializes the login message handler with callback interface.">OpenLcbLoginMessageHandler_initialize</a> </dd>
<dd>
<a class="el" href="openlcb__login__statemachine__handler_8c.html#a63d4945cfcd4930d8b3bc780f59687eb" title="Loads an Initialization Complete message into the outgoing message buffer.">OpenLcbLoginMessageHandler_load_initialization_complete</a> </dd>
<dd>
<a class="el" href="openlcb__login__statemachine__handler_8c.html#a86d1ac7c901b8980d26547ef4b1b6f48" title="Loads a Producer Event Identified message for the current producer event.">OpenLcbLoginMessageHandler_load_producer_event</a> </dd>
<dd>
<a class="el" href="openlcb__login__statemachine__handler_8c.html#ac6977ee9bd7b697ad431ddadd14779a9" title="Loads a Consumer Event Identified message for the current consumer event.">OpenLcbLoginMessageHandler_load_consumer_event</a> </dd></dl>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="a07b2621b1cfa411657f6f8b68b56b187" name="a07b2621b1cfa411657f6f8b68b56b187"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07b2621b1cfa411657f6f8b68b56b187">&#9670;&#160;</a></span>extract_producer_event_state_mti</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t(* extract_producer_event_state_mti) (<a class="el" href="structopenlcb__node__t.html">openlcb_node_t</a> *openlcb_node, uint16_t event_index)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback to extract Producer Event Identified MTI for a given event. </p>
<p>This required callback examines the current state of a producer event and returns the appropriate Message Type Indicator (MTI) for the Producer Identified message. The returned MTI indicates whether the producer event is currently in a valid (set/active), invalid (clear/inactive), or unknown state.</p>
<p>The callback should examine the event at producers.list[event_index] and return:</p><ul>
<li>MTI_PRODUCER_IDENTIFIED_VALID (0x0594) if event state is SET/ACTIVE</li>
<li>MTI_PRODUCER_IDENTIFIED_INVALID (0x0595) if event state is CLEAR/INACTIVE</li>
<li>MTI_PRODUCER_IDENTIFIED_UNKNOWN (0x0597) if event state cannot be determined</li>
</ul>
<p>This callback is invoked during the login sequence for each producer event the node supports, allowing the node to announce all produced events and their current states to the network.</p>
<dl class="section note"><dt>Note</dt><dd>This is a REQUIRED callback - must not be NULL </dd></dl>

</div>
</div>
<a id="a10bb57ecbcd59ce495360fdfaed4e382" name="a10bb57ecbcd59ce495360fdfaed4e382"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10bb57ecbcd59ce495360fdfaed4e382">&#9670;&#160;</a></span>extract_consumer_event_state_mti</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t(* extract_consumer_event_state_mti) (<a class="el" href="structopenlcb__node__t.html">openlcb_node_t</a> *openlcb_node, uint16_t event_index)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback to extract Consumer Event Identified MTI for a given event. </p>
<p>This required callback examines the current state of a consumer event and returns the appropriate Message Type Indicator (MTI) for the Consumer Identified message. The returned MTI indicates whether the consumer event is currently in a valid (set/active), invalid (clear/inactive), or unknown state.</p>
<p>The callback should examine the event at consumers.list[event_index] and return:</p><ul>
<li>MTI_CONSUMER_IDENTIFIED_VALID (0x04C4) if event state is SET/ACTIVE</li>
<li>MTI_CONSUMER_IDENTIFIED_INVALID (0x04C5) if event state is CLEAR/INACTIVE</li>
<li>MTI_CONSUMER_IDENTIFIED_UNKNOWN (0x04C7) if event state cannot be determined</li>
</ul>
<p>This callback is invoked during the login sequence for each consumer event the node supports, allowing the node to announce all consumed events and their current states to the network.</p>
<dl class="section note"><dt>Note</dt><dd>This is a REQUIRED callback - must not be NULL </dd></dl>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>src/openlcb/<a class="el" href="openlcb__login__statemachine__handler_8h_source.html">openlcb_login_statemachine_handler.h</a></li>
</ul>
</div><!-- contents -->
<!doctype html>
<html>
    <body>
        <hr>
        <p style="margin-left: 10px; margin-right: 10px;">
            <b>Copyright (c)</b> 2026 Jim Kueneman all rights reserved. See the <a href="../licence.html">License</a>
        </p>
    </body>
</html>
