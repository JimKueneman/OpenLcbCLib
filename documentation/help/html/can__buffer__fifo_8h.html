<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenLcbCLib: src/drivers/canbus/can_buffer_fifo.h File Reference</title>
<link rel="icon" href="Diesel.png" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">OpenLcbCLib<span id="projectnumber">&#160;1.0 Alpha</span>
   </div>
   <div id="projectbrief">OpenSource C Library to create OpenLcb/Lcc Nodes</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_c718a368270b13c54d94892d20736f45.html">drivers</a></li><li class="navelem"><a class="el" href="dir_858afec057d05dde4e87dd686afd4670.html">canbus</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">can_buffer_fifo.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>FIFO buffer implementation for CAN message structures.  
<a href="#details">More...</a></p>

<p><a href="can__buffer__fifo_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab0652f39f104350007ad642b955ddbad" id="r_ab0652f39f104350007ad642b955ddbad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab0652f39f104350007ad642b955ddbad">CanBufferFifo_initialize</a> (void)</td></tr>
<tr class="memdesc:ab0652f39f104350007ad642b955ddbad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the CAN Message Buffer FIFO.  <br /></td></tr>
<tr class="separator:ab0652f39f104350007ad642b955ddbad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9506021e46c1e62c700b125252276346" id="r_a9506021e46c1e62c700b125252276346"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9506021e46c1e62c700b125252276346">CanBufferFifo_push</a> (<a class="el" href="can__types_8h.html#a9fec363f8b39411fc3ce3bafd7182309">can_msg_t</a> *new_msg)</td></tr>
<tr class="memdesc:a9506021e46c1e62c700b125252276346"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pushes a new CAN message into the FIFO buffer.  <br /></td></tr>
<tr class="separator:a9506021e46c1e62c700b125252276346"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ffec18f770ac9eeb09eb5efc586addc" id="r_a2ffec18f770ac9eeb09eb5efc586addc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="can__types_8h.html#a9fec363f8b39411fc3ce3bafd7182309">can_msg_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2ffec18f770ac9eeb09eb5efc586addc">CanBufferFifo_pop</a> (void)</td></tr>
<tr class="memdesc:a2ffec18f770ac9eeb09eb5efc586addc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pops a CAN message off the FIFO buffer.  <br /></td></tr>
<tr class="separator:a2ffec18f770ac9eeb09eb5efc586addc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad52fb1602439269439924aa2c962db07" id="r_ad52fb1602439269439924aa2c962db07"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad52fb1602439269439924aa2c962db07">CanBufferFifo_is_empty</a> (void)</td></tr>
<tr class="memdesc:ad52fb1602439269439924aa2c962db07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tests if the FIFO buffer is empty.  <br /></td></tr>
<tr class="separator:ad52fb1602439269439924aa2c962db07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93d3428dcf398427024b61c4cfe096c3" id="r_a93d3428dcf398427024b61c4cfe096c3"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a93d3428dcf398427024b61c4cfe096c3">CanBufferFifo_get_allocated_count</a> (void)</td></tr>
<tr class="memdesc:a93d3428dcf398427024b61c4cfe096c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of messages currently in the FIFO buffer.  <br /></td></tr>
<tr class="separator:a93d3428dcf398427024b61c4cfe096c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>FIFO buffer implementation for CAN message structures. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2024, Jim Kueneman All rights reserved.</dd></dl>
<p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p>
<ul>
<li>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</li>
<li>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</li>
</ul>
<p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>
<p>Provides a circular queue for managing CAN message pointers. Messages are allocated from the CAN Buffer Store and pushed into the FIFO for ordered processing. The FIFO uses a circular buffer with one extra slot to distinguish between empty and full states.</p>
<dl class="section author"><dt>Author</dt><dd>Jim Kueneman </dd></dl>
<dl class="section date"><dt>Date</dt><dd>17 Jan 2026 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ab0652f39f104350007ad642b955ddbad" name="ab0652f39f104350007ad642b955ddbad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0652f39f104350007ad642b955ddbad">&#9670;&#160;</a></span>CanBufferFifo_initialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CanBufferFifo_initialize </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes the CAN Message Buffer FIFO. </p>
<p>Clears all FIFO slots and resets head and tail pointers to zero. Must be called once during application startup before any FIFO operations.</p>
<p>Use cases:</p><ul>
<li>Called during system initialization</li>
<li>Required before any push or pop operations</li>
</ul>
<dl class="section warning"><dt>Warning</dt><dd>MUST be called exactly once during initialization </dd>
<dd>
NOT thread-safe</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>Call before <a class="el" href="can__buffer__fifo_8c.html#a9506021e46c1e62c700b125252276346" title="Pushes a new CAN message into the FIFO buffer.">CanBufferFifo_push()</a> or <a class="el" href="can__buffer__fifo_8c.html#a2ffec18f770ac9eeb09eb5efc586addc" title="Pops a CAN message off the FIFO buffer.">CanBufferFifo_pop()</a></dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="can__buffer__fifo_8c.html#a9506021e46c1e62c700b125252276346" title="Pushes a new CAN message into the FIFO buffer.">CanBufferFifo_push</a> - Adds message to FIFO </dd>
<dd>
<a class="el" href="can__buffer__store_8c.html#a49fcb6055f37edb9e56977295cd0eaf2" title="Initializes the CAN Buffer Store.">CanBufferStore_initialize</a> - Must be called before this function</dd></dl>
<p>Algorithm:</p><ol type="1">
<li>Iterate through entire FIFO array</li>
<li>Set each slot to NULL (no message present)</li>
<li>Reset head pointer to 0 (next insertion position)</li>
<li>Reset tail pointer to 0 (next removal position)</li>
<li>FIFO is now empty (head == tail)</li>
</ol>
<p>Use cases:</p><ul>
<li>Called during system initialization</li>
<li>Required before any push or pop operations</li>
</ul>
<dl class="section warning"><dt>Warning</dt><dd>MUST be called exactly once during initialization </dd>
<dd>
NOT thread-safe</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>Call before <a class="el" href="can__buffer__fifo_8c.html#a9506021e46c1e62c700b125252276346" title="Pushes a new CAN message into the FIFO buffer.">CanBufferFifo_push()</a> or <a class="el" href="can__buffer__fifo_8c.html#a2ffec18f770ac9eeb09eb5efc586addc" title="Pops a CAN message off the FIFO buffer.">CanBufferFifo_pop()</a></dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="can__buffer__fifo_8c.html#a9506021e46c1e62c700b125252276346" title="Pushes a new CAN message into the FIFO buffer.">CanBufferFifo_push</a> - Adds message to FIFO </dd>
<dd>
<a class="el" href="can__buffer__store_8c.html#a49fcb6055f37edb9e56977295cd0eaf2" title="Initializes the CAN Buffer Store.">CanBufferStore_initialize</a> - Must be called before this function </dd></dl>

</div>
</div>
<a id="a9506021e46c1e62c700b125252276346" name="a9506021e46c1e62c700b125252276346"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9506021e46c1e62c700b125252276346">&#9670;&#160;</a></span>CanBufferFifo_push()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CanBufferFifo_push </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="can__types_8h.html#a9fec363f8b39411fc3ce3bafd7182309">can_msg_t</a> *</td>          <td class="paramname"><span class="paramname"><em>new_msg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pushes a new CAN message into the FIFO buffer. </p>
<p>Adds a CAN message pointer to the FIFO queue. The message must be allocated from the CAN Buffer Store before pushing. The FIFO stores pointers only, not the message structures themselves.</p>
<p>Use cases:</p><ul>
<li>Hardware CAN receive interrupt/callback</li>
<li>Queueing incoming CAN frames for processing</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_msg</td><td>Pointer to allocated CAN message from <a class="el" href="can__buffer__store_8c.html#afd3358d37ab07ff0f8ec918c00fffe99" title="Allocates a new CAN buffer from the pool.">CanBufferStore_allocate_buffer()</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if message successfully added to FIFO, false if FIFO is full</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>FIFO full condition returns false - caller must handle this error </dd>
<dd>
NOT thread-safe - use shared resource locking</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>Always check return value - dropped messages when FIFO full </dd>
<dd>
Message must be allocated before pushing</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="can__buffer__store_8c.html#afd3358d37ab07ff0f8ec918c00fffe99" title="Allocates a new CAN buffer from the pool.">CanBufferStore_allocate_buffer</a> - Allocates message before push </dd>
<dd>
<a class="el" href="can__buffer__fifo_8c.html#a2ffec18f770ac9eeb09eb5efc586addc" title="Pops a CAN message off the FIFO buffer.">CanBufferFifo_pop</a> - Removes message from FIFO</dd></dl>
<p>Algorithm:</p><ol type="1">
<li>Calculate next head position (head + 1)</li>
<li>Apply wraparound if next &gt;= buffer length (circular buffer)</li>
<li>Check if FIFO is full (next == tail)</li>
<li>If full, return false (cannot add)</li>
<li>If space available:<ul>
<li>Store message pointer at current head position</li>
<li>Update head to next position</li>
<li>Return true (success)</li>
</ul>
</li>
</ol>
<p>Use cases:</p><ul>
<li>Hardware CAN receive interrupt/callback</li>
<li>Queueing incoming CAN frames for processing</li>
</ul>
<pre class="fragment">* @param new_msg Pointer to allocated CAN message from CanBufferStore_allocate_buffer()
* </pre><dl class="section return"><dt>Returns</dt><dd>true if message successfully added to FIFO, false if FIFO is full</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>FIFO full condition returns false - caller must handle this error </dd>
<dd>
NOT thread-safe - use shared resource locking</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>Always check return value - dropped messages when FIFO full </dd>
<dd>
Message must be allocated before pushing</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="can__buffer__store_8c.html#afd3358d37ab07ff0f8ec918c00fffe99" title="Allocates a new CAN buffer from the pool.">CanBufferStore_allocate_buffer</a> - Allocates message before push </dd>
<dd>
<a class="el" href="can__buffer__fifo_8c.html#a2ffec18f770ac9eeb09eb5efc586addc" title="Pops a CAN message off the FIFO buffer.">CanBufferFifo_pop</a> - Removes message from FIFO </dd></dl>

</div>
</div>
<a id="a2ffec18f770ac9eeb09eb5efc586addc" name="a2ffec18f770ac9eeb09eb5efc586addc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ffec18f770ac9eeb09eb5efc586addc">&#9670;&#160;</a></span>CanBufferFifo_pop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="can__types_8h.html#a9fec363f8b39411fc3ce3bafd7182309">can_msg_t</a> * CanBufferFifo_pop </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pops a CAN message off the FIFO buffer. </p>
<p>Removes and returns the oldest message from the FIFO queue. The caller is responsible for freeing the message when processing is complete.</p>
<p>Use cases:</p><ul>
<li>Main processing loop</li>
<li>CAN receive state machine</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the oldest CAN message, or NULL if FIFO is empty</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Returns NULL when FIFO empty - caller MUST check for NULL </dd>
<dd>
Caller MUST free message with <a class="el" href="can__buffer__store_8c.html#ad95fb1127ec823f0cc9117848b78e5a7" title="Frees a CAN buffer back to the pool.">CanBufferStore_free_buffer()</a> when done </dd>
<dd>
NOT thread-safe - use shared resource locking</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>Always check return value for NULL before use </dd>
<dd>
Remember to free message after processing</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="can__buffer__store_8c.html#ad95fb1127ec823f0cc9117848b78e5a7" title="Frees a CAN buffer back to the pool.">CanBufferStore_free_buffer</a> - Must call when done with message </dd>
<dd>
<a class="el" href="can__buffer__fifo_8c.html#ad52fb1602439269439924aa2c962db07" title="Tests if the FIFO buffer is empty.">CanBufferFifo_is_empty</a> - Check before popping</dd></dl>
<p>Algorithm:</p><ol type="1">
<li>Check if FIFO is empty (head == tail)</li>
<li>If empty, return NULL</li>
<li>If not empty:<ul>
<li>Retrieve message pointer from tail position</li>
<li>Clear slot to NULL (optional cleanup)</li>
<li>Increment tail pointer</li>
<li>Apply wraparound if tail &gt;= buffer length</li>
<li>Return retrieved message pointer</li>
</ul>
</li>
</ol>
<p>Use cases:</p><ul>
<li>Main processing loop</li>
<li>CAN receive state machine</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the oldest CAN message, or NULL if FIFO is empty</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Returns NULL when FIFO empty - caller MUST check for NULL </dd>
<dd>
Caller MUST free message with <a class="el" href="can__buffer__store_8c.html#ad95fb1127ec823f0cc9117848b78e5a7" title="Frees a CAN buffer back to the pool.">CanBufferStore_free_buffer()</a> when done </dd>
<dd>
NOT thread-safe - use shared resource locking</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>Always check return value for NULL before use </dd>
<dd>
Remember to free message after processing</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="can__buffer__store_8c.html#ad95fb1127ec823f0cc9117848b78e5a7" title="Frees a CAN buffer back to the pool.">CanBufferStore_free_buffer</a> - Must call when done with message </dd>
<dd>
<a class="el" href="can__buffer__fifo_8c.html#ad52fb1602439269439924aa2c962db07" title="Tests if the FIFO buffer is empty.">CanBufferFifo_is_empty</a> - Check before popping </dd></dl>

</div>
</div>
<a id="ad52fb1602439269439924aa2c962db07" name="ad52fb1602439269439924aa2c962db07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad52fb1602439269439924aa2c962db07">&#9670;&#160;</a></span>CanBufferFifo_is_empty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t CanBufferFifo_is_empty </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tests if the FIFO buffer is empty. </p>
<p>Checks whether any messages are currently in the FIFO queue. Useful for polling-based processing loops.</p>
<p>Use cases:</p><ul>
<li>Checking before calling pop to avoid NULL</li>
<li>Polling for incoming messages</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>Non-zero (true) if FIFO is empty, zero (false) if messages present</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Return value is non-zero for true, zero for false</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="can__buffer__fifo_8c.html#a2ffec18f770ac9eeb09eb5efc586addc" title="Pops a CAN message off the FIFO buffer.">CanBufferFifo_pop</a> - Removes message from FIFO </dd>
<dd>
<a class="el" href="can__buffer__fifo_8c.html#a93d3428dcf398427024b61c4cfe096c3" title="Returns the number of messages currently in the FIFO buffer.">CanBufferFifo_get_allocated_count</a> - Get exact count</dd></dl>
<p>Algorithm:</p><ol type="1">
<li>Compare head and tail pointers</li>
<li>If head == tail, FIFO is empty (return true)</li>
<li>If head != tail, FIFO has messages (return false)</li>
</ol>
<p>Use cases:</p><ul>
<li>Checking before calling pop to avoid NULL</li>
<li>Polling for incoming messages</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>Non-zero (true) if FIFO is empty, zero (false) if messages present</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Return value is non-zero for true, zero for false</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="can__buffer__fifo_8c.html#a2ffec18f770ac9eeb09eb5efc586addc" title="Pops a CAN message off the FIFO buffer.">CanBufferFifo_pop</a> - Removes message from FIFO </dd>
<dd>
<a class="el" href="can__buffer__fifo_8c.html#a93d3428dcf398427024b61c4cfe096c3" title="Returns the number of messages currently in the FIFO buffer.">CanBufferFifo_get_allocated_count</a> - Get exact count </dd></dl>

</div>
</div>
<a id="a93d3428dcf398427024b61c4cfe096c3" name="a93d3428dcf398427024b61c4cfe096c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93d3428dcf398427024b61c4cfe096c3">&#9670;&#160;</a></span>CanBufferFifo_get_allocated_count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t CanBufferFifo_get_allocated_count </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of messages currently in the FIFO buffer. </p>
<p>Calculates the current FIFO occupancy by comparing head and tail pointers. Accounts for circular buffer wraparound.</p>
<p>Use cases:</p><ul>
<li>Monitoring FIFO usage</li>
<li>Detecting near-full conditions</li>
<li>Performance analysis</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>Number of messages currently in FIFO (0 to USER_DEFINED_CAN_MSG_BUFFER_DEPTH)</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Count changes dynamically as messages are pushed and popped</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="can__buffer__fifo_8c.html#ad52fb1602439269439924aa2c962db07" title="Tests if the FIFO buffer is empty.">CanBufferFifo_is_empty</a> - Quick empty check </dd>
<dd>
<a class="el" href="can__buffer__fifo_8c.html#a9506021e46c1e62c700b125252276346" title="Pushes a new CAN message into the FIFO buffer.">CanBufferFifo_push</a> - Adds to count </dd>
<dd>
<a class="el" href="can__buffer__fifo_8c.html#a2ffec18f770ac9eeb09eb5efc586addc" title="Pops a CAN message off the FIFO buffer.">CanBufferFifo_pop</a> - Decrements count</dd></dl>
<p>Algorithm:</p><ol type="1">
<li>Compare tail and head positions</li>
<li>If tail &gt; head:<ul>
<li>Buffer has wrapped around</li>
<li>Count = head + (buffer_length - tail)</li>
</ul>
</li>
<li>If tail &lt;= head:<ul>
<li>Normal case, no wraparound</li>
<li>Count = head - tail</li>
</ul>
</li>
<li>Return calculated count</li>
</ol>
<p>Use cases:</p><ul>
<li>Monitoring FIFO usage</li>
<li>Detecting near-full conditions</li>
<li>Performance analysis</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>Number of messages currently in FIFO (0 to USER_DEFINED_CAN_MSG_BUFFER_DEPTH)</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Count changes dynamically as messages are pushed and popped</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="can__buffer__fifo_8c.html#ad52fb1602439269439924aa2c962db07" title="Tests if the FIFO buffer is empty.">CanBufferFifo_is_empty</a> - Quick empty check </dd>
<dd>
<a class="el" href="can__buffer__fifo_8c.html#a9506021e46c1e62c700b125252276346" title="Pushes a new CAN message into the FIFO buffer.">CanBufferFifo_push</a> - Adds to count </dd>
<dd>
<a class="el" href="can__buffer__fifo_8c.html#a2ffec18f770ac9eeb09eb5efc586addc" title="Pops a CAN message off the FIFO buffer.">CanBufferFifo_pop</a> - Decrements count </dd></dl>

</div>
</div>
</div><!-- contents -->
<!doctype html>
<html>
    <body>
        <hr>
        <p style="margin-left: 10px; margin-right: 10px;">
            <b>Copyright (c)</b> 2026 Jim Kueneman all rights reserved. See the <a href="../licence.html">License</a>
        </p>
    </body>
</html>
